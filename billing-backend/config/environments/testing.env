# ==============================================
# TESTING ENVIRONMENT - SHORT RENEWAL PERIODS FOR TESTING
# ==============================================

# Environment Metadata
ENVIRONMENT=testing
DEBUG=true
LOG_LEVEL=DEBUG

# Service URLs - Local development
SUBSCRIPTION_SERVICE_URL=http://localhost:8001
PAYMENT_SERVICE_URL=http://localhost:8002

# Database Configuration - Testing database
DATABASE_URL=postgresql://billing_user:billing_pass@localhost:5432/billing_test_db
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# Redis Configuration - Testing instance
REDIS_URL=redis://localhost:6379/1
REDIS_MAX_CONNECTIONS=25

# Queue Settings - Fast processing for testing
QUEUE_BATCH_SIZE=50
QUEUE_TIMEOUT=5

# JWT Configuration - Testing tokens
JWT_SECRET_KEY=test_jwt_secret_key_32_characters_long_minimum_for_security
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours for testing

# Webhook Settings - Short timeouts for fast testing
WEBHOOK_TOLERANCE_SECONDS=60
WEBHOOK_TIMEOUT_SECONDS=10
WEBHOOK_RETRY_MULTIPLIER=1.5
WEBHOOK_MAX_RETRY_DELAY=300  # 5 minutes max
WEBHOOK_SIGNING_SECRET=webhook-signing-secret-change-in-production

# Testing Payment Gateway Configuration
PAYMENT_GATEWAY_SUCCESS_CARD=4242424242424242
PAYMENT_GATEWAY_FAIL_CARD=4000000000000002
GATEWAY_SUCCESS_RATE=0.8
GATEWAY_MIN_DELAY_MS=100
GATEWAY_MAX_DELAY_MS=500

# Testing Subscription Settings - SHORT RENEWAL PERIODS
TRIAL_PERIOD_MINUTES=2  # 2 minutes instead of 14 days
MONTHLY_BILLING_MINUTES=5  # 5 minutes instead of 30 days
YEARLY_BILLING_MINUTES=10  # 10 minutes instead of 365 days
RENEWAL_CHECK_INTERVAL_SECONDS=30  # Check every 30 seconds
PAYMENT_RETRY_DELAY_SECONDS=60  # 1 minute retry delay

# Usage Reset Settings - Fast testing
USAGE_RESET_INTERVAL_MINUTES=3  # Reset usage every 3 minutes

# Development/Testing Features
ENABLE_MOCK_PAYMENT_GATEWAY=true
ENABLE_FAST_RENEWALS=true
ENABLE_DEBUG_ENDPOINTS=true
SKIP_WEBHOOK_SIGNATURE_VALIDATION=true  # For testing only

# Test Data Settings
CREATE_TEST_USERS=true
CREATE_TEST_PLANS=true
SEED_TEST_DATA=true 